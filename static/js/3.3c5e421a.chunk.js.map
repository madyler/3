{"version":3,"sources":["components/Profile/ProfileInfo/ProfileInfo.module.css","components/Profile/MyPosts/MyPosts.module.css","components/Profile/MyPosts/Post/Post.module.css","components/Profile/ProfileInfo/ProfileStatusWithHooks.jsx","components/Profile/ProfileInfo/ProfileInfo.jsx","components/Profile/ProfileInfo/ProfileStatus.jsx","components/Profile/MyPosts/Post/Post.jsx","components/Profile/MyPosts/AddNewPostForm.jsx","components/Profile/MyPosts/MyPosts.jsx","components/Profile/MyPosts/MyPostsContainer.jsx","components/Profile/Profile.jsx","components/Profile/ProfileContainer.jsx","hoc/AuthRedirect.jsx","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js"],"names":["module","exports","ProfileStatusWithHooks","props","useState","editMode","setEditMode","status","setStatus","useEffect","onDoubleClick","autoFocus","onBlur","updateStatus","value","onChange","e","currentTarget","ProfileInfo","React","Component","profile","className","s","descriptionBlock","fullName","src","photos","large","Preloader","Post","item","message","likesCount","composeValidators","validators","reduce","error","validator","undefined","AddNewPostForm","onSubmit","addPost","addNewPost","handleSubmit","component","Textarea","name","validate","required","maxLengthCreator","placeholder","MyPosts","memo","posts","postsElements","map","p","id","console","log","postsBlock","MyPostsContainer","connect","state","profilePage","dispatch","post","addPostActionCreator","Profile","ProfileContainer","userId","this","match","params","autorizedUserId","getUserProfile","getUserStatus","bind","compose","auth","isAuth","setUserProfile","withRouter","withAuthRedirect","mapStateToPropsForRedirect","RedirectComponent","to","_slicedToArray","arr","i","Array","isArray","Symbol","iterator","Object","_arr","_n","_d","_e","_s","_i","next","done","push","length","err","unsupportedIterableToArray","TypeError"],"mappings":"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","file":"static/js/3.3c5e421a.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"descriptionPicture\":\"ProfileInfo_descriptionPicture__3_Yli\",\"descriptionBlock\":\"ProfileInfo_descriptionBlock__3cd8Y\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsBlock\":\"MyPosts_postsBlock__2ifKf\",\"posts\":\"MyPosts_posts__3tZ1c\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"Post_item__ihtu9\"};","import React, {useEffect, useState} from \"react\";\n\nconst ProfileStatusWithHooks = (props) => {\n\n    let [editMode, setEditMode] = useState(false)\n    let [status, setStatus] = useState(props.status)\n    useEffect( () => {setStatus(props.status)}, [props.status])\n    const activateEditMode = () => {setEditMode(true)}\n    const deactivateEditMode = () => {setEditMode(false); props.updateStatus(status)}\n    const onStatusChange = (e) => {setStatus(e.currentTarget.value)}\n\n    return (\n        <div>\n            {!editMode &&\n                <div>\n                    <span onDoubleClick={activateEditMode}>{props.status || \"----\"}</span>\n                </div>\n            }\n            {editMode &&\n            <div>\n                <input autoFocus={true}\n                       onBlur={deactivateEditMode}\n                       value={status}\n                       onChange={onStatusChange}\n                />\n            </div>\n            }\n        </div>\n    )\n}\n\nexport default ProfileStatusWithHooks;","import React from 'react';\nimport s from './ProfileInfo.module.css';\nimport Preloader from \"../../commons/Preloader/Preloader\";\nimport ProfileStatusWithHooks from \"./ProfileStatusWithHooks\";\nimport ProfileStatus from \"./ProfileStatus\";\n\n\nconst ProfileInfo = ({profile, status, updateStatus}) => {\n    if (!profile) {\n        return <Preloader/>\n    }\n\n    return (\n        <div>\n            <div className={s.descriptionBlock}>\n                <div>\n                    {profile.fullName}\n                </div>\n                <img src={profile.photos.large}/>\n                <ProfileStatusWithHooks status={status} updateStatus={updateStatus}/>\n                {/*<ProfileStatus status={status} updateStatus={updateStatus}/>*/}\n            </div>\n        </div>\n    )\n}\n\nexport default ProfileInfo;","import React from \"react\";\n\nclass ProfileStatus extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            editMode: false,\n            status: this.props.status\n        };\n\n    }\n\n    activateEditMode = () => {\n        return this.setState({\n            editMode: true\n        });\n    }\n\n    deactivateEditMode() {\n        return (\n            this.setState({editMode: false}),\n            this.props.updateStatus(this.state.status)\n    )}\n    onStatusChange(e) {\n        this.setState({\n            status: e.currentTarget.value\n        })\n    }\n\n    componentDidUpdate(prevProps, prevState, snapshot) {\n        if(prevProps.status !== this.props.status){\n            this.setState({\n                status: this.props.status\n            })\n        }\n    }\n\n    render() {\n        return (\n            <div>\n                {!this.state.editMode &&\n                    <div>\n                        <span onDoubleClick={this.activateEditMode\n                           // .bind(this)\n                        }>{this.state.status || \"----\"}</span>\n                    </div>}\n                {this.state.editMode &&\n                    <div>\n                        <input onChange={this.onStatusChange.bind(this)} autoFocus={true}\n                               onBlur={this.deactivateEditMode.bind(this)} value={this.state.status}/>\n                    </div>}\n            </div>\n        )\n    }\n}\n\nexport default ProfileStatus;","import React from 'react';\nimport s from './Post.module.css';\n\nconst Post = (props) => {\n  return (\n    <div className={s.item}>\n      <img src='https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRbNslP7-_P7jz5MrT5yhW14y_IzBDbZZT0ag&usqp=CAU' />\n        {props.message}\n        <div>\n          <span>Likes   :   </span> {props.likesCount}\n        </div>\n    </div>\n\n  )\n} \n\nexport default Post;","import React from 'react';\nimport {Field, Form} from \"react-final-form\";\nimport { maxLengthCreator, required } from '../../../utils/validators/validators';\nimport {Textarea} from \"../../commons/FormsControls/FormsControls\";\n\n\nconst composeValidators = (...validators) => value =>\n    validators.reduce((error, validator) => error || validator(value), undefined)\n\nconst AddNewPostForm = (props) => {\n    return (\n            <Form onSubmit={(value) => {\n                props.addPost(value.addNewPost)\n            }}>\n                {({handleSubmit}) => (\n                    <form onSubmit={handleSubmit}>\n                        <div>\n                            <Field component={Textarea} name=\"addNewPost\"\n                                   validate={composeValidators(required, maxLengthCreator(20))}\n                                    placeholder=\"Enter new post text\"/>\n                        </div>\n                        <div>\n                            <button>Add post</button>\n                        </div>\n                    </form>\n                )}\n            </Form>\n    )\n}\n\nexport default AddNewPostForm;","import React from 'react';\nimport s from './MyPosts.module.css';\nimport Post from './Post/Post';\nimport AddNewPostForm from \"./AddNewPostForm\";\n\n\n\nconst MyPosts = React.memo(({posts,addPost}) => {\n    let postsElements = posts.map(p => <Post message={p.message} likesCount={p.likesCount}\n                                                               key={p.id} id={p.id}/>);\n    console.log('render')\n    return (\n        <div className={s.postsBlock}>\n            <h3>My posts/Profile/</h3>\n            <AddNewPostForm addPost={addPost}/>\n            <div className={s.posts}>\n                {postsElements}\n            </div>\n        </div>\n    )\n}\n)\n\n\nexport default MyPosts;","import React from 'react';\nimport MyPosts from \"./MyPosts\";\nimport {addPostActionCreator} from \"../../redux/profile-reducer\";\nimport {connect} from \"react-redux\";\n\n\nlet mapStateToProps = (state) => {\n    return {\n        posts: state.profilePage.posts\n    }\n}\nlet mapDispatchToProps = (dispatch) => {\n    return {\n        addPost: (post) => {\n            dispatch(addPostActionCreator(post))\n        }\n    }\n}\n\nconst MyPostsContainer = connect(mapStateToProps, mapDispatchToProps)(MyPosts)\n\nexport default MyPostsContainer;","import React from 'react';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport MyPostsContainer from \"./MyPosts/MyPostsContainer\";\n\n\nconst Profile = ({profile, status, updateStatus}) => {\n    return (\n        <div>\n            <ProfileInfo profile={profile}  status={status}\n                         updateStatus={updateStatus}/>\n            <MyPostsContainer/>\n        </div>\n  )\n}\n\nexport default Profile;","import React from 'react';\nimport Profile from \"./Profile\";\nimport {getUserProfile, getUserStatus, setUserProfile, updateStatus} from \"../redux/profile-reducer\";\nimport {connect} from \"react-redux\";\nimport {withRouter} from \"react-router-dom\";\nimport {withAuthRedirect} from \"../../hoc/AuthRedirect\";\nimport {compose} from \"redux\";\n\n\nclass ProfileContainer extends React.Component {\n    componentDidMount() {\n        let userId = this.props.match.params.userId;\n        if (!userId){userId = this.props.autorizedUserId\n            //15691\n            //1197\n            //6244\n            //6206\n        }\n        this.props.getUserProfile(userId)\n        this.props.getUserStatus(userId)\n    }\n\n    render() {\n\n        return <Profile {...this.props} profile={this.props.profile}\n                        status={this.props.status}\n                        updateStatus={this.props.updateStatus.bind(this)}/>\n\n    }\n}\n\nlet mapStateToProps = (state) => ({\n    profile: state.profilePage.profile,\n    status: state.profilePage.status,\n    autorizedUserId: state.auth.userId,\n    isAuth: state.auth.isAuth\n})\n\n\nexport default compose(\n    connect(mapStateToProps, {setUserProfile, getUserProfile, getUserStatus, updateStatus}),\n    withRouter,\n    withAuthRedirect\n)(ProfileContainer)","import {Redirect} from \"react-router-dom\";\nimport React from \"react\";\nimport {connect} from \"react-redux\";\n\nlet mapStateToPropsForRedirect = (state) => ({\n    isAuth: state.auth.isAuth\n})\n\nexport const withAuthRedirect = (Component) =>{\n    class RedirectComponent extends React.Component {\n        render(){\n                if (!this.props.isAuth) return <Redirect  to={'/login'}/>\n                return <Component {...this.props}/>\n        }\n    }\n    return connect(mapStateToPropsForRedirect)(RedirectComponent);\n\n}\n","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}"],"sourceRoot":""}